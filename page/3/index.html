<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #1E92FB; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #1E92FB;    /*上边框颜色*/
        border-left-color: #1E92FB;    /*左边框颜色*/
    }
</style>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jiqingk.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://jiqingk.github.io/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jqk">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://jiqingk.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">在逐梦的路上，总会有人的梦想枯萎，只有提升自我才可以涅槃重生</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">5</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">28</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiqingk.github.io/2020/08/19/pagePass/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Jqk">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/19/pagePass/" class="post-title-link" itemprop="url">小程序实践（四）–页面带参传值、JSON数据传递</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-19 15:41:34" itemprop="dateCreated datePublished" datetime="2020-08-19T15:41:34+08:00">2020-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-01-30 10:41:14" itemprop="dateModified" datetime="2019-01-30T10:41:14+08:00">2019-01-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="小程序实践（四）–页面带参传值、JSON数据传递"><a href="#小程序实践（四）–页面带参传值、JSON数据传递" class="headerlink" title="小程序实践（四）–页面带参传值、JSON数据传递"></a>小程序实践（四）–页面带参传值、JSON数据传递</h2><p>今天呢写了一个（物流跟踪）列子，将通过这个例子来向大家介绍一下小程序是如何带参跳转、JSON数组的传递与解析。先看下效果图：<br><img src="../images/xcx_1.gif" alt="在这里插入图片描述"><br>让我们来看一下本次案例中运用到的函数<br>1）页面跳转的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wx.navigateTo(&#123;</span><br><span class="line">      url: &#39;..&#x2F;logistics&#x2F;logistics?dataList&#x3D;&#39; + dataList,</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2）我们在参数传递的时候数据中可能会有一些特殊字符，例如 ;/? : @ &amp;=+$,#所以我们需要用函数将其进行编码，也就是下面所说的两个函数　　</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">encodeURIComponent ();  &#x2F;&#x2F;函数把字符串编码为 URI 组件。有了编码自然也会有相对的解码函数</span><br><span class="line"></span><br><span class="line">decodeURIComponent();&#x2F;&#x2F;函数可把字符串作为 URI 组件进行解码。</span><br></pre></td></tr></table></figure>
<p>3）在传递json的时候，我们需要将其转换为字符串传值，而接收的时候我们需要将json转换为对象接收，那就用到了下面的两个函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JSON.stringify();&#x2F;&#x2F;将json转成字符串传值</span><br><span class="line">JSON.parse();&#x2F;&#x2F;将字符串转成对象接收 </span><br></pre></td></tr></table></figure>
<p>4)我们接收解析好的JSON如何展示在页面中呢，小程序中一般多用setData方法改变页面信息或者是刷新之后与后台交互获取最新信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.setData(&#123;</span><br><span class="line">    参数：值</span><br><span class="line">&#125;)   </span><br></pre></td></tr></table></figure>
<p>以上就是这次案例所用到的函数及方法，最后附上代码，便于大家参考：<br>一级页面传参：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view bindtap&#x3D;&#39;logisiticsGZFn&#39; class&#x3D;&quot;logisi&quot;&gt;查看物流&lt;&#x2F;view&gt;   </span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**查看物流 *&#x2F;</span><br><span class="line">  logisiticsGZFn: function(e) &#123;</span><br><span class="line">    var Traces&#x3D; [&#123;&#x2F;&#x2F;JSON模拟数据，项目中可以换取真实的</span><br><span class="line">      &quot;time&quot;: &quot;2014&#x2F;06&#x2F;25 08:05:37&quot;,</span><br><span class="line">      &quot;context&quot;: &quot;正在派件..(派件人:邓裕富,电话:18718866310)[深圳 市]&quot;,</span><br><span class="line">      &quot;Remark&quot;: null</span><br><span class="line">    &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;time&quot;: &quot;2014&#x2F;06&#x2F;25 04:01:28&quot;,</span><br><span class="line">        &quot;context&quot;: &quot;快件在 深圳集散中心 ,准备送往下一站 深圳 [深圳市]&quot;,</span><br><span class="line">        &quot;Remark&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;time&quot;: &quot;2014&#x2F;06&#x2F;25 01:41:06&quot;,</span><br><span class="line">        &quot;context&quot;: &quot;快件在 深圳集散中心 [深圳市]&quot;,</span><br><span class="line">        &quot;Remark&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;time&quot;: &quot;2014&#x2F;06&#x2F;24 20:18:58&quot;,</span><br><span class="line">        &quot;context&quot;: &quot;已收件[深圳市]&quot;,</span><br><span class="line">        &quot;Remark&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;time&quot;: &quot;2014&#x2F;06&#x2F;24 20:55:28&quot;,</span><br><span class="line">        &quot;context&quot;: &quot;快件在 深圳 ,准备送往下一站 深圳集散中心 [深圳市]&quot;,</span><br><span class="line">        &quot;Remark&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;time&quot;: &quot;2014&#x2F;06&#x2F;25 10:23:03&quot;,</span><br><span class="line">        &quot;context&quot;: &quot;派件已签收[深圳市]&quot;,</span><br><span class="line">        &quot;Remark&quot;: null</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;time&quot;: &quot;2014&#x2F;06&#x2F;25 10:23:03&quot;,</span><br><span class="line">        &quot;context&quot;: &quot;签收人是：已签收[深圳市]&quot;,</span><br><span class="line">        &quot;Remark&quot;: null</span><br><span class="line">      &#125;</span><br><span class="line">    ];</span><br><span class="line">    var dataList&#x3D;encodeURIComponent(JSON.stringify(Traces));&#x2F;&#x2F;函数可把字符串作为 URI 组件进行编码</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url: &#39;..&#x2F;logistics&#x2F;logistics?dataList&#x3D;&#39; + dataList,&#x2F;&#x2F;传递参数</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>二级页面接收展示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;view class&#x3D;&#39;page_row top&#39;&gt;</span><br><span class="line">  &lt;image class&#x3D;&quot;goods&quot; src&#x3D;&#39;..&#x2F;images&#x2F;sf.jpg&#39;&gt;&lt;&#x2F;image&gt;</span><br><span class="line">  &lt;view class&#x3D;&#39;page_clu logistics&#39;&gt;</span><br><span class="line">    &lt;text&gt;物流公司: 顺丰速运&#123;&#123;wuliuType&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">    &lt;text&gt;物流单号:221009887344 &#123;&#123;wl_dh&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">    &lt;text&gt;官方电话:95338 &#123;&#123;wl_phone&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">  &lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br><span class="line">&lt;view class&#x3D;&#39;br&#39;&gt;&lt;&#x2F;view&gt;</span><br><span class="line">&lt;view class&#x3D;&quot;middle&quot;&gt;</span><br><span class="line">  &lt;view class&#x3D;&quot;top_sh&quot; hidden&#x3D;&quot;true&quot;&gt;</span><br><span class="line">    &lt;view class&#x3D;&#39;top_icon&#39;&gt;&lt;&#x2F;view&gt;</span><br><span class="line">    &lt;text class&#x3D;&quot;address&quot;&gt;[收货地址]&#123;&#123;userAddress&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">    &lt;view class&#x3D;&#39;on&#39; style&#x3D;&quot;border-left:1px dashed #d0d0d0;&quot;&gt;&lt;&#x2F;view&gt;</span><br><span class="line">  &lt;&#x2F;view&gt;</span><br><span class="line">  &lt;block wx:for&#x3D;&quot;&#123;&#123;Traces&#125;&#125;&quot; wx:key&#x3D;&quot;index&quot; hidden&#x3D;&quot;&#123;&#123;isShowWl&#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;view class&#x3D;&#39;order&#39;&gt;</span><br><span class="line">      &lt;text class&#x3D;&quot;time&quot;&gt;&#123;&#123;item.time&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">      &lt;view class&#x3D;&#39;icon &#123;&#123;0&#x3D;&#x3D;index?&quot;in&quot;:&quot;no_in&quot;&#125;&#125;&#39;&gt;&lt;&#x2F;view&gt;</span><br><span class="line">      &lt;view class&#x3D;&#39;logistics_centent page_clu&#39;&gt;</span><br><span class="line">        &lt;text&gt; &#123;&#123;item.context&#125;&#125;&lt;&#x2F;text&gt;</span><br><span class="line">      &lt;&#x2F;view&gt;</span><br><span class="line">      &lt;view wx:if&#x3D;&quot;&#123;&#123;index&#x3D;&#x3D;Traces.length-1&#125;&#125;&quot;&gt;&lt;&#x2F;view&gt;</span><br><span class="line">      &lt;view wx:else class&#x3D;&#39;on&#39;&gt;&lt;&#x2F;view&gt;</span><br><span class="line">    &lt;&#x2F;view&gt;</span><br><span class="line">  &lt;&#x2F;block&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">   * 生命周期函数--监听页面加载</span><br><span class="line">   *&#x2F;</span><br><span class="line">  onLoad: function(options) &#123;</span><br><span class="line">      var dataTemp &#x3D; decodeURIComponent(options.dataList);&#x2F;&#x2F;函数可把字符串作为 URI 组件进行解码。</span><br><span class="line">      var Traces &#x3D; JSON.parse(dataTemp);&#x2F;&#x2F;航一页传过来的json字符串转化成json数组  物流信息进度</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        Traces: Traces</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>以上便是案例完整的代码，粘贴复制即用。最后说一下，所有的页面获取的数据都需要在onLoad()方法中执行。</p>

      
    </div>

    
    
    
	<div>
  
</div>
<div>
      
</div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiqingk.github.io/2020/08/19/lazyLoad/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Jqk">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/19/lazyLoad/" class="post-title-link" itemprop="url">前端优化–图片懒加载</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-19 15:41:34" itemprop="dateCreated datePublished" datetime="2020-08-19T15:41:34+08:00">2020-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-01-22 11:01:02" itemprop="dateModified" datetime="2019-01-22T11:01:02+08:00">2019-01-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前端优化–图片懒加载"><a href="#前端优化–图片懒加载" class="headerlink" title="前端优化–图片懒加载##"></a><strong>前端优化–图片懒加载</strong>##</h2><p><strong>一、什么事懒加载</strong><br>    懒加载技术(简称lazyload)是对网页性能优化的一种方案。lazyload的核心是按需加载，避免网页打开时加载过多资源，让用户等待太久，在适当的时候加载用户需要的资源(这里用户需要的资源指该资源呈现在浏览器可视区域)。这里我们主要是对img标签使用懒加载技术，使用jquery的query.lazyload.js库实现。<br>    通俗的讲就是：当访问一个页面的时候，先把img元素或是其他元素的背景图片路径替换成一张大小为1*1px图片的路径（这样就只需请求一次），只有当图片出现在浏览器的可视区域内时，才设置图片真正的路径，让图片显示出来。这就是图片懒加载。<br><strong>二、为何要是用懒加载技术？</strong><br>    比如一个页面中有很多图片，如淘宝、京东首页等等，如果一上来就发送这么多请求，页面加载就会很漫长，如果js文件都放在了文档的底部，恰巧页面的头部又依赖这个js文件，那就不好办了。更为要命的是：一上来就发送百八十个请求，服务器可能就吃不消了（又不是只有一两个人在访问这个页面）。因此优点就很明显了：不仅可以减轻服务器的压力，而且可以让加载好的页面更快地呈现在用户面前（用户体验好）。<br><strong>三、如何实现</strong><br>主要有以下2个关键点：<br>       1、页面中的img元素，如果没有src属性，浏览器就不会发出请求去下载图片（也就没有请求咯，也就提高性能咯），一旦通过javascript设置了图片路径，浏览器才会送请求。有点按需分配的意思，你不想看，就不给你看，你想看了就给你看    　2、怎么获取真正的路径，这个简单，现在真正的路径存在元素的“data-original（这个名字起个自己认识好记的就行）属性里，要用的时候就取出来，再设置；　       </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">第一步，引入懒加载所需的js文件</span><br><span class="line">&lt;script src&#x3D;&quot;jquery.lazyload.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">第二步，img标签的属性如下：</span><br><span class="line">&lt;img class&#x3D;&quot;lazy&quot; data-original&#x3D;&quot;img&#x2F;example.jpg&quot; width&#x3D;&quot;640&quot; height&#x3D;&quot;480&quot;&gt;</span><br><span class="line">第三步，在对应的js文件中，对img标签调用如下imgLazyLoad方法.</span><br></pre></td></tr></table></figure>


<p><strong>四、懒加载方法</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function imgLazyLoad(param,$dom)&#123;  </span><br><span class="line">      var placeholder &#x3D; baseUrl + &#39;&#x2F;lar-ui&#x2F;imgs&#x2F;placeholder&#x2F;0.png&#39;;   </span><br><span class="line">      var extendParam &#x3D; $.extend(&#123;effect: &#39;fadeIn&#39;,placeholder: placeholder&#125;, param);    </span><br><span class="line">      if($dom)&#123;      </span><br><span class="line">        $($dom).find(&#39;img.lazy&#39;).lazyload(extendParam);   </span><br><span class="line">      &#125;else&#123;       </span><br><span class="line">       $(&#39;img.lazy&#39;).lazyload(extendParam);    </span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参数说明：<br>    1)$dom为实施懒加载的dom元素，param对象中的参数含义如下　　<br>    2)Placeholder : “img/grey.gif”, //用图片提前占位。　　<br>    3)threshold : 200, //提前开始加载。值为数字，代表的页面高度。目的在于加载图片时可以做到不让用户察觉。　　<br>    4)event : “click”, //事件触发时才加载，值有click,mouseover,foobar等，可以像这样触发：find(‘img.lazy’).trigger(‘foobar’)。　　<br>    5)effect : “fadeIn” ,//载入使用何种效果,effect(特效),值有show(直接显示),fadeIn(淡入),slideDown(下拉)等。　　<br>    6)container: $(“#container”)//容器内水平滚动效果,滚动时按需加载。Lazyload默认是在拉动浏览器滚动条的时候生效，这个参数还可以让你在拉动某个DIV的滚动条时依次加载其中图片　　<br>    7)failurelimit:图片排序混乱时,值为数字，lazyload默认在找到第一张不在可视区域里的图片时则不在继续加载，如果当HTML容器里混乱的时候有可能会出现可见区域内的图片加载不出来的情况，failurelimit意在加载N张可见区域外的图片，避免出现这个问题。<br><strong>五、方法调用</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">imgLazyLoad(    </span><br><span class="line">    &#123;effect:&#39;show&#39;&#125;,&#x2F;&#x2F;载入时的效果</span><br><span class="line">    $(&#39;#myCarousel&#39;)&#x2F;&#x2F;获取需要实施懒加载的DOM元素</span><br><span class="line">)</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
	<div>
  
</div>
<div>
      
</div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiqingk.github.io/2020/08/19/js%E5%B0%81%E8%A3%85%E7%9A%84%E5%85%AC%E5%85%B1%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Jqk">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/19/js%E5%B0%81%E8%A3%85%E7%9A%84%E5%85%AC%E5%85%B1%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">自定义js方法组件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-19 15:41:34" itemprop="dateCreated datePublished" datetime="2020-08-19T15:41:34+08:00">2020-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-24 15:28:38" itemprop="dateModified" datetime="2019-12-24T15:28:38+08:00">2019-12-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF-Js/" itemprop="url" rel="index"><span itemprop="name">前端-Js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="常用的公共方法"><a href="#常用的公共方法" class="headerlink" title="常用的公共方法"></a>常用的公共方法</h2><p><strong>//删除数组中指定元素</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeByValue</span>(<span class="params">arr,val</span>)</span>&#123;    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;    </span><br><span class="line">        <span class="keyword">if</span>(arr[i] == val)&#123;</span><br><span class="line">            arr.splice(i,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>时分秒倒计时</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> maxtime = <span class="number">5</span>* <span class="number">60</span>; <span class="comment">//一个小时，按秒计算，自己调整!   </span></span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">CountDown</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (maxtime &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    minutes = <span class="built_in">Math</span>.floor(maxtime / <span class="number">60</span>);</span><br><span class="line">                    seconds = <span class="built_in">Math</span>.floor(maxtime % <span class="number">60</span>);</span><br><span class="line">                    msg = <span class="string">&quot;距离结束还有&quot;</span> + minutes + <span class="string">&quot;分&quot;</span> + seconds + <span class="string">&quot;秒&quot;</span>;</span><br><span class="line">                    <span class="built_in">document</span>.all[<span class="string">&quot;timer&quot;</span>].innerHTML = msg;</span><br><span class="line">                    <span class="keyword">if</span> (maxtime == <span class="number">5</span> * <span class="number">60</span>)alert(<span class="string">&quot;还剩5分钟&quot;</span>);</span><br><span class="line">                        --maxtime;</span><br><span class="line">                &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">                    clearTimeOut(timer);</span><br><span class="line">                    alert(<span class="string">&quot;时间到，结束!&quot;</span>);</span><br><span class="line">                    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                        CountDown();</span><br><span class="line">                    &#125;,<span class="number">1000</span>)</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            timer = <span class="built_in">setInterval</span>(<span class="string">&quot;CountDown()&quot;</span>, <span class="number">1000</span>); </span><br><span class="line"> <span class="comment">//60秒倒计时</span></span><br><span class="line"> <span class="keyword">var</span> time = <span class="number">60</span>;<span class="comment">// 倒计时</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getRandomCode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (time === <span class="number">0</span>) &#123;</span><br><span class="line">            time = <span class="number">60</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            time--;</span><br><span class="line">            $(<span class="string">&#x27;#second&#x27;</span>).text(time);</span><br><span class="line">              <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                getRandomCode();</span><br><span class="line">             &#125;, <span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">getRandomCode();</span><br></pre></td></tr></table></figure>
<p><strong>判断移动端是android 还是ios</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> u = navigator.userAgent;</span><br><span class="line"><span class="keyword">var</span> isAndroid = u.indexOf(<span class="string">&#x27;Android&#x27;</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">&#x27;Adr&#x27;</span>) &gt; <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">var</span> isiOS = !! u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>);</span><br><span class="line"><span class="keyword">if</span> (isAndroid) &#123;</span><br><span class="line">    alert(<span class="string">&quot;android&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (isiOS) &#123;</span><br><span class="line">    alert(<span class="string">&quot;ios&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>//千位分隔符’,’</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">thousandBitSeparator</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> decimal = num.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>] || <span class="string">&#x27;&#x27;</span>;<span class="comment">//小数部分        </span></span><br><span class="line">    <span class="keyword">var</span> tempArr = [];</span><br><span class="line">    <span class="keyword">var</span> revNumArr = num.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>].split(<span class="string">&quot;&quot;</span>).reverse();<span class="comment">//倒序</span></span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> revNumArr) &#123;</span><br><span class="line">          tempArr.push(revNumArr[i]);</span><br><span class="line">          <span class="keyword">if</span> ((i + <span class="number">1</span>) % <span class="number">3</span> === <span class="number">0</span> &amp;&amp; i != revNumArr.length - <span class="number">1</span>) &#123;</span><br><span class="line">            tempArr.push(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> zs = tempArr.reverse().join(<span class="string">&#x27;&#x27;</span>);<span class="comment">//整数部分</span></span><br><span class="line">    <span class="keyword">return</span> decimal ? zs + <span class="string">&#x27;.&#x27;</span> + decimal : zs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>//根据屏幕宽度设置<HTML>元素的font-size值，用于rem单位</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> setHtmlFontSize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> clientWidth = <span class="built_in">document</span>.body.clientWidth;</span><br><span class="line">        <span class="keyword">if</span> (clientWidth &gt;= <span class="number">640</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;html&#x27;</span>).css(<span class="string">&#x27;font-size&#x27;</span>, <span class="string">&#x27;100px&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> fontSize = <span class="number">100</span> * (clientWidth / <span class="number">640</span>) + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">            $(<span class="string">&#x27;html&#x27;</span>).css(<span class="string">&#x27;font-size&#x27;</span>, fontSize);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<p><strong>//判断jquery对象是否有某个className</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isExistElementClassName = <span class="function"><span class="keyword">function</span>(<span class="params">e, className</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e) &#123;</span><br><span class="line">            <span class="keyword">var</span> cls = e.attr(<span class="string">&quot;class&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (cls) &#123;</span><br><span class="line">                <span class="keyword">var</span> spanClasses = cls.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; spanClasses.length; i++) &#123;</span><br><span class="line">                    spanClasses[i] = $.trim(spanClasses[i]);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> ($.inArray(className, spanClasses) &gt; <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p><strong>数字转整数 如 100000 转为10万</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 数字转整数 如 100000 转为10万</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param <span class="type">&#123;需要转化的数&#125;</span> </span>num </span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tranNumber</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> numStr = num.toString()</span><br><span class="line">  <span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/^(-|\+)?\d+$/</span>); <span class="comment">//是否是整型</span></span><br><span class="line">  <span class="keyword">var</span> isBool = re.test(numStr);</span><br><span class="line">  <span class="keyword">if</span> (isBool) &#123;</span><br><span class="line">    <span class="keyword">if</span> (numStr.length &lt; <span class="number">5</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> numStr + <span class="string">&#x27;.00&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 大于4位数是万 (以1W分割 1W以下全部显示)</span></span><br><span class="line">    <span class="keyword">if</span> (numStr.length &gt; <span class="number">4</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">parseFloat</span>(num / <span class="number">10000</span>) + <span class="string">&#x27;万&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 大于8位数是亿</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (numStr.length &gt; <span class="number">8</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">parseFloat</span>(num / <span class="number">100000000</span>) + <span class="string">&#x27;亿&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseFloat</span>(num);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>//JS无法进行精确计算的bug    //解决方案的原理是，将浮点数乘以（扩大）10的n次方倍，把浮点数变为整数后再进行相应的运算，最后将得到的结果除以（缩小）10的n次方倍。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">floatAdd</span>(<span class="params">arg1,arg2</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> r1,r2,m;</span><br><span class="line">        <span class="keyword">try</span>&#123;r1=arg1.toString().split(<span class="string">&quot;.&quot;</span>)[<span class="number">1</span>].length&#125;<span class="keyword">catch</span>(e)&#123;r1=<span class="number">0</span>&#125;</span><br><span class="line">        <span class="keyword">try</span>&#123;r2=arg2.toString().split(<span class="string">&quot;.&quot;</span>)[<span class="number">1</span>].length&#125;<span class="keyword">catch</span>(e)&#123;r2=<span class="number">0</span>&#125;</span><br><span class="line">        m=<span class="built_in">Math</span>.pow(<span class="number">10</span>,<span class="built_in">Math</span>.max(r1,r2));</span><br><span class="line">        <span class="keyword">return</span> (arg1*m+arg2*m)/m;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>*<em>js手机号中间四位变成</em>号<br>可以利用substr() 方法可在字符串中抽取从 start 下标开始的指定数目的字符。**</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">&#x27;1366668888&#x27;</span>;   </span><br><span class="line"><span class="keyword">var</span> str2 = str.substr(<span class="number">0</span>,<span class="number">3</span>)+<span class="string">&quot;****&quot;</span>+str.substr(<span class="number">7</span>);   </span><br><span class="line">alert(str2)</span><br><span class="line">语法介绍：</span><br><span class="line">    返回值</span><br><span class="line">    一个新的字符串，包含从 stringObject 的 start（包括 start 所指的字符） 处开始的 length 个字符。如果没有指定 length，那么返回的字符串包含从 start 到 stringObject 的结尾的字符。stringObject.substr(start,length)</span><br></pre></td></tr></table></figure>
<p><strong>解决–H5开发android软键盘将底部布局顶上去</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oHeight = <span class="built_in">document</span>.documentElement.clientHeight;</span><br><span class="line">    $(<span class="built_in">window</span>).resize(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">//ios软键盘弹出不会触发resize事件</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">document</span>.documentElement.clientHeight &lt; oHeight)&#123;</span><br><span class="line">            $(<span class="string">&quot;#footer&quot;</span>).css(<span class="string">&quot;position&quot;</span>,<span class="string">&quot;static&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">&quot;#footer&quot;</span>).css(<span class="string">&quot;position&quot;</span>,<span class="string">&quot;absolute&quot;</span>); <span class="comment">//adsolute或fixed，看你布局</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    
	<div>
  
</div>
<div>
      
</div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiqingk.github.io/2020/08/19/Inertia_%20%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0%E6%8B%96%E5%8A%A8%E5%90%B8%E9%99%84%E5%8A%9F%E8%83%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Jqk">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/19/Inertia_%20%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0%E6%8B%96%E5%8A%A8%E5%90%B8%E9%99%84%E5%8A%9F%E8%83%BD/" class="post-title-link" itemprop="url">移动端页面元素拖动吸附功能</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-19 15:41:34" itemprop="dateCreated datePublished" datetime="2020-08-19T15:41:34+08:00">2020-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-24 15:28:32" itemprop="dateModified" datetime="2019-12-24T15:28:32+08:00">2019-12-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF-Js/" itemprop="url" rel="index"><span itemprop="name">前端-Js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Inertia-移动端页面元素拖动吸附功能"><a href="#Inertia-移动端页面元素拖动吸附功能" class="headerlink" title="Inertia: 移动端页面元素拖动吸附功能"></a>Inertia: 移动端页面元素拖动吸附功能</h1><p>移动端页面元素拖动吸附功能效果图如下：<br>    <img src="https://img-blog.csdnimg.cn/20191120095208487.gif" alt="在这里插入图片描述"></p>
<h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><p>1.在页面引用inertia.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;inertia.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>2.获取需要绑定拖动吸附功能的元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;J-page&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"> var ele &#x3D; document.getElementById(&#39;J-page&#39;);</span><br></pre></td></tr></table></figure>
<p>3.创建一个Inertia对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;创建一个Inertia对象     </span><br><span class="line">var obf &#x3D; new Inertia(ele,options,initPos);</span><br></pre></td></tr></table></figure>
<p>4.调用初始化方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obf.init();&#x2F;&#x2F;调用初始化方法</span><br></pre></td></tr></table></figure>
<h2 id="可选项"><a href="#可选项" class="headerlink" title="可选项"></a>可选项</h2><p>1.通过Inertia构造函数传入第二个参数options</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 控制可拖动元素的上下左右的边界，&#x2F;&#x2F;包括 top, bottom, left, right四个选项         </span><br><span class="line">var options&#x3D;&#123;</span><br><span class="line">   border:&#123;              </span><br><span class="line">           left:&#39;2&#39;,              </span><br><span class="line">          right:&#39;2&#39;,            </span><br><span class="line">          top:&#39;20&#39;,            </span><br><span class="line">          bottom:&#39;10&#39;,               </span><br><span class="line">          speed:100           </span><br><span class="line">       &#125;    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>2.initPos: 可拖动元素的初始位置, 包括posX, posY, 水平方向和垂直方向上的位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;拖动元素的初始位置 </span><br><span class="line">var initPos&#x3D;&#123;           </span><br><span class="line">    posX :&#39;10&#39;,&#x2F;&#x2F;this.computedBorder.right,  可移动的最右侧</span><br><span class="line">    posY :&#39;10&#39;   </span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>
<p>3.speed: 自动吸附的速度, 默认值为10</p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>1.物体一定要设置transform属性, 最好设置为transform: translate3d(0px, 0px, 0px)<br>2.物体设置定位, 定位在 左上角, 即top: 0; left: 0;<br>3.建议物体为正方行或者圆形, 如不是, 请设置padding属性, 再单独设置其他属性<br>4.如自行设置options中border属性, 需要top, bottom, left, right都设置<br>5.如自行设置options中initPos属性, 需要posX, posY都设置</p>

      
    </div>

    
    
    
	<div>
  
</div>
<div>
      
</div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiqingk.github.io/2020/08/19/h5%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2%20%E5%9B%9E%E5%88%B0%E9%A1%B6%E9%83%A8%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5%E6%98%BE%E7%A4%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Jqk">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/19/h5%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2%20%E5%9B%9E%E5%88%B0%E9%A1%B6%E9%83%A8%E4%BB%A5%E5%8F%8A%E5%88%86%E9%A1%B5%E6%98%BE%E7%A4%BA/" class="post-title-link" itemprop="url">h5列表页面回到顶部+分页</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-19 15:41:34" itemprop="dateCreated datePublished" datetime="2020-08-19T15:41:34+08:00">2020-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-17 10:02:34" itemprop="dateModified" datetime="2020-01-17T10:02:34+08:00">2020-01-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF-Js/" itemprop="url" rel="index"><span itemprop="name">前端-Js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>用法：</strong>      </p>
<ol>
<li>引入此插件前请先引入zepto.min.js 或 jquery.js</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;zepto.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>2.使用插件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> page_instance = $(<span class="string">&#x27;#your-gotop-dom-id&#x27;</span>).pageination(&#123;</span><br><span class="line">    <span class="comment">//  是否一直显示</span></span><br><span class="line">    always: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">//   分页开始时的高度，达到高度时才显示分页，如果always未true，则一直显示</span></span><br><span class="line">    startPos: <span class="number">300</span>,</span><br><span class="line">    <span class="comment">// 步进高度，每滚动这个高度当前页码加减 1</span></span><br><span class="line">    stepHeight: <span class="number">700</span>,</span><br><span class="line">    <span class="comment">// 总页数，必传</span></span><br><span class="line">    total: <span class="number">5</span>，</span><br><span class="line">    <span class="comment">// 分页图标变成回到顶部图标的时间，当前页为第一页时，回到顶部图标从显示到消失时间</span></span><br><span class="line">    time: <span class="number">1000</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>page_instance 实例，对象，包含你传的参数，作用的dom对象以及两个函数：</li>
<li>updateTotal：变更总页码</li>
<li>updateCul：变更当前页码</li>
</ul>

      
    </div>

    
    
    
	<div>
  
</div>
<div>
      
</div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiqingk.github.io/2020/08/19/FlexBox%E5%B8%83%E5%B1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Jqk">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/19/FlexBox%E5%B8%83%E5%B1%80/" class="post-title-link" itemprop="url">FlexBox布局</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-19 15:41:34" itemprop="dateCreated datePublished" datetime="2020-08-19T15:41:34+08:00">2020-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-13 17:15:32" itemprop="dateModified" datetime="2020-01-13T17:15:32+08:00">2020-01-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF-Js/" itemprop="url" rel="index"><span itemprop="name">前端-Js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="父视图布局"><a href="#父视图布局" class="headerlink" title="父视图布局"></a>父视图布局</h2><h2 id="标题一、flexDirection"><a href="#标题一、flexDirection" class="headerlink" title="标题一、flexDirection"></a>标题一、flexDirection</h2><p>1.flexDirection默认侧轴从上到下排列<br>row:主轴(行)     column侧轴(列) reverse(反向)<br>2.flexDirection:’row’ 主轴<br>3.flexDirection:’row-reverse’主轴反向</p>
<h2 id="二、flexWrap"><a href="#二、flexWrap" class="headerlink" title="二、flexWrap"></a>二、flexWrap</h2><p>flexWrap 属性定义了子元素在父视图内是否允许多行排列，默认为nowrap</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nowrap flex的元素之排列在一行上，可能导致溢出</span><br><span class="line">wrap flex的元素在一行排列不下时，就进行多行排列</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="三、JustifyContent"><a href="#三、JustifyContent" class="headerlink" title="三、JustifyContent"></a>三、JustifyContent</h2><p>JustifyContent属性定义了浏览器如何分配顺着父容器主轴的弹性（Flex）元素之间及其周围的空间，默认为flex-start。对应的这些可选项有：flex-start、center、flex-end、space-around、space-between以及space-evenly。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">flex-start(<span class="keyword">default</span>)</span><br><span class="line">从行首开始排列。每行第一个元素与行首对齐，同时所有后续的弹性元素与前一个对齐。</span><br><span class="line">flex-end</span><br><span class="line">从行尾开始排列。每行最后一个弹性元素与行尾对齐，其它元素与后一个对齐。</span><br><span class="line">center（水平居中）</span><br><span class="line">伸缩元素向每行中点排列。每行第一个元素到行首的距离将与每行最后一个元素到行尾的距离相同。</span><br><span class="line">space-around</span><br><span class="line">在每行上均匀分配弹性元。相邻元素间距相同。每行第一个元素到行首的距离和每行最后一个元素到行尾的距离将会是和相邻元素之间距离的一半</span><br><span class="line">space-evenly</span><br><span class="line">间距都相同</span><br><span class="line">space-between</span><br><span class="line">在每行上均匀分配弹性元素。相邻元素间距相同。每行第一个元素到行尾的距离相同</span><br></pre></td></tr></table></figure>

<h2 id="四、alignItems"><a href="#四、alignItems" class="headerlink" title="四、alignItems"></a>四、alignItems</h2><p>alignItems属性以与justifyContent相同的方式在侧轴方向上将当前行上的弹性元素对齐，默认为stretch。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">flex-start   元素向轴起点对齐</span><br><span class="line">flex-end     元素向轴终点对齐。</span><br><span class="line">center (垂直居中)元素在侧轴居中。如果元素在侧轴上的高度高于其容器。那么两个方向上溢出距离相同</span><br><span class="line">stretch      弹性元素被在侧轴方向被拉伸到与容器的高度或宽度</span><br></pre></td></tr></table></figure>

<h2 id="子视图布局"><a href="#子视图布局" class="headerlink" title="子视图布局"></a>子视图布局</h2><h2 id="一、alignSelf"><a href="#一、alignSelf" class="headerlink" title="一、alignSelf"></a>一、alignSelf</h2><p>alignSelf属性以属性定义了flex容器内被选中项目的对齐方式。注意：alignSelf属性可以重写灵活容器alignItems属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">auto(defalut)元素继承了它的付容器的align-itemss属性。如果没有父容器则为stretch</span><br><span class="line">stretch 元素被拉伸以适应容器</span><br><span class="line">center 元素位于容器中心</span><br><span class="line">flex-start 元素位于容器开头</span><br><span class="line">flex-end 元素位于容器结尾</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="二、flex"><a href="#二、flex" class="headerlink" title="二、flex"></a>二、flex</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;flex-grow&quot;</span>、<span class="string">&quot;flex-shrink&quot;</span>、<span class="string">&quot;flex-basis&quot;</span>三个属性的缩写，</span><br><span class="line">其中第二个和第三个参数是可选参数</span><br><span class="line">默认值为“<span class="number">0</span> <span class="number">1</span> auto”</span><br><span class="line">宽度= 弹性宽度*（flexGrow/sum(flexGrow)）</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
	<div>
  
</div>
<div>
      
</div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiqingk.github.io/2020/08/19/buttonTab/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Jqk">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/19/buttonTab/" class="post-title-link" itemprop="url">小程序实践（三）–小程序切换按钮选中状态</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-19 15:41:34" itemprop="dateCreated datePublished" datetime="2020-08-19T15:41:34+08:00">2020-08-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-01-28 16:00:02" itemprop="dateModified" datetime="2019-01-28T16:00:02+08:00">2019-01-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="小程序实践（三）–小程序切换按钮选中状态"><a href="#小程序实践（三）–小程序切换按钮选中状态" class="headerlink" title="小程序实践（三）–小程序切换按钮选中状态"></a>小程序实践（三）–小程序切换按钮选中状态</h2><p><strong>首先说一下为什么要单独写一个这个呢？在小程序中由于不能够直接对DOM元素进行操作，更没有像jquery那样addClass、removeClass这样简便方法对样式进行改变，个人觉得这个相对来说还是比较方便的，就拿出来在这里跟大家分享一下。如果你有更简单的不防写下来跟大家分享一下！</strong><br><strong>还是先看一下最终实现的效果</strong><br><img src="../images/xcx_1.gif" alt="在这里插入图片描述"><br><strong>接下来就看一下我们是如何实现的<br>1、布局排版，直接附上wxml代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 顶部办理状态 --&gt;</span><br><span class="line">&lt;view class&#x3D;&quot;topView&quot; style&#x3D;&quot;position:fixed;top:49px;left:0;z-index:200&quot;&gt;</span><br><span class="line">  &lt;block wx:for&#x3D;&quot;&#123;&#123;statusList&#125;&#125;&quot; wx:key&#x3D;&quot;id&quot;&gt;</span><br><span class="line">    &lt;view id&#x3D;&quot;&#123;&#123;item.id&#125;&#125;&quot; class&#x3D;&quot;&#123;&#123;item.id &#x3D;&#x3D; isChecked ? &#39;active&#39;:&#39;&#39;&#125;&#125; topChild&quot; bindtap&#x3D;&quot;choiceStatus&quot;&gt;&#123;&#123;item.statusName&#125;&#125;&lt;&#x2F;view&gt;</span><br><span class="line">&lt;&#x2F;block&gt;</span><br><span class="line">&lt;&#x2F;view&gt;</span><br></pre></td></tr></table></figure>
<p><strong>2、按钮样式，wxss代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.topView&#123;</span><br><span class="line">  width:100%;</span><br><span class="line">  height:48px;</span><br><span class="line">  display:flex;</span><br><span class="line">  background-color: #ffffff;</span><br><span class="line">  border-bottom:1px solid #e2e1e1;</span><br><span class="line">&#125;</span><br><span class="line">.topChild&#123;</span><br><span class="line">  width:20%;</span><br><span class="line">  height:48px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  line-height: 3.4;</span><br><span class="line">  font-size:14px;</span><br><span class="line">  color:#333333;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;*点击时按钮状态*&#x2F;</span><br><span class="line">.active&#123;</span><br><span class="line">  color:#E31904;</span><br><span class="line">  border-bottom:2px solid #E31904;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>3、最主要的来了，js代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">   * 页面的初始数据</span><br><span class="line">   *&#x2F;</span><br><span class="line">  data: &#123;</span><br><span class="line">    statusList: [&#123;&#x2F;&#x2F;顶部状态按钮</span><br><span class="line">      &quot;statusName&quot;: &quot;全部&quot;,</span><br><span class="line">      &quot;id&quot;: &quot;all&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;statusName&quot;: &quot;待支付&quot;,</span><br><span class="line">      &quot;id&quot;: &quot;draft&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;statusName&quot;: &quot;待发货&quot;,</span><br><span class="line">      &quot;id&quot;: &quot;waitSolve&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;statusName&quot;: &quot;已发货&quot;,</span><br><span class="line">      &quot;id&quot;: &quot;doingSolve&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;statusName&quot;: &quot;交易成功&quot;,</span><br><span class="line">      &quot;id&quot;: &quot;doneSolve&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    ],</span><br><span class="line">    isChecked: 0 &#x2F;&#x2F;判断是否选中</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F;绑定顶部状态切换的点击事件</span><br><span class="line">  choiceStatus: function (e) &#123;</span><br><span class="line">    var that &#x3D; this;</span><br><span class="line">    var code &#x3D; e.currentTarget.id;</span><br><span class="line">    that.setData(&#123;</span><br><span class="line">      isChecked: code</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p><strong>是不是很简单啊！！希望看到的大神，能给出更好的实现方法！！！     老师说过：好东西要拿出来大家分享一下哦！！哈哈。。。。。。</strong></p>

      
    </div>

    
    
    
	<div>
  
</div>
<div>
      
</div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiqingk.github.io/2019/12/24/hexo%20next%20%E4%B8%BA%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="Jqk">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/24/hexo%20next%20%E4%B8%BA%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB/" class="post-title-link" itemprop="url">hexo next 为文章添加分类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2019-12-24 00:00:00 / 修改时间：15:54:56" itemprop="dateCreated datePublished" datetime="2019-12-24T00:00:00+08:00">2019-12-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="hexo-next-为文章添加分类"><a href="#hexo-next-为文章添加分类" class="headerlink" title="hexo next 为文章添加分类"></a>hexo next 为文章添加分类</h2><p>1.新建一个页面，命名为 categories 。命令如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure>
<p>2.编辑刚新建的页面，将页面的类型设置为categories，主题将自动为这个页面显示所有分类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &quot;分类&quot;</span><br><span class="line">date: 2019-01-18 16:19:42</span><br><span class="line">type: &#39;categories&#39;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>3.在菜单中添加链接。编辑主题的 _config.yml ，将 menu 中的 categories: /categories 注释去掉，如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: &#x2F; || home &#x2F;&#x2F;主页</span><br><span class="line">  #about: &#x2F;about&#x2F; || user &#x2F;&#x2F;关于</span><br><span class="line">  #tags: &#x2F;tags&#x2F; || tags   &#x2F;&#x2F;标签</span><br><span class="line">  categories: &#x2F;categories&#x2F; || th  &#x2F;&#x2F;分类</span><br><span class="line">  archives: &#x2F;archives&#x2F; || archive  &#x2F;&#x2F;归档</span><br></pre></td></tr></table></figure>
<p><strong>添加文章分类关联</strong><br>1.hexo中有Front-matter这个概念，是文件最上方以 — 分隔的区域，用于指定个别文件的变量。举个栗子，在hexo new post article时会生成article.md文件，文件生成好的文章属性。<br>2.在其中添加categories属性，再部署之后就可以在分类页看到分类了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hexo next 为文章添加分类</span><br><span class="line">categories: 前端</span><br><span class="line">---</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    
	<div>
  
</div>
<div>
      
</div>
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jqk"
      src="/images/author.jpg">
  <p class="site-author-name" itemprop="name">Jqk</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jqk</span>
</div>
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共20.2k字</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  
  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"live2d-widget-model-wanko"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body>
</html>
<!-- 页面点击小红心
<script type="text/javascript" src="/js/src/clicklove.js"></script> -->

